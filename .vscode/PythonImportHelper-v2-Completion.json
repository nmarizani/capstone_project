[
    {
        "label": "numpy",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "numpy",
        "description": "numpy",
        "detail": "numpy",
        "documentation": {}
    },
    {
        "label": "f1_score",
        "importPath": "sklearn.metrics",
        "description": "sklearn.metrics",
        "isExtraImport": true,
        "detail": "sklearn.metrics",
        "documentation": {}
    },
    {
        "label": "optimize_threshold",
        "kind": 2,
        "importPath": "src.evaluation.threshold_search",
        "description": "src.evaluation.threshold_search",
        "peekOfCode": "def optimize_threshold(y_true, y_prob):\n    thresholds = np.linspace(0.1, 0.9, 100)\n    scores = []\n    for t in thresholds:\n        preds = (y_prob >= t).astype(int)\n        scores.append(f1_score(y_true, preds))\n    best_idx = np.argmax(scores)\n    return thresholds[best_idx]",
        "detail": "src.evaluation.threshold_search",
        "documentation": {}
    },
    {
        "label": "clinical_rules",
        "kind": 2,
        "importPath": "src.rules.clinical_flags",
        "description": "src.rules.clinical_flags",
        "peekOfCode": "def clinical_rules(row):\n    sbp = row[\"systolic_bp\"]\n    dbp = row[\"diastolic_bp\"]\n    sugar = row[\"blood_sugar\"]\n    preexist = row[\"preexist_diabetes\"]\n    gest = row[\"gest_diabetes\"]\n    hypertension_flag = int((sbp >= 140) or (dbp >= 90))\n    diabetes_any = int((sugar >= 126) or (preexist == 1) or (gest == 1))\n    return {\n        \"hypertension_flag\": hypertension_flag,",
        "detail": "src.rules.clinical_flags",
        "documentation": {}
    },
    {
        "label": "demo",
        "kind": 5,
        "importPath": "src.rules.clinical_flags",
        "description": "src.rules.clinical_flags",
        "peekOfCode": "demo = df.head(5).apply(clinical_rules, axis=1, result_type=\"expand\")\ndisplay(pd.concat([df.head(5)[[\"systolic_bp\",\"diastolic_bp\",\"blood_sugar\",\"preexist_diabetes\",\"gest_diabetes\",\"hypertension_flag\",\"diabetes_any\"]], demo.add_prefix(\"rule_\")], axis=1))",
        "detail": "src.rules.clinical_flags",
        "documentation": {}
    }
]